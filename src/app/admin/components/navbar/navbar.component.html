<nav class="bg-success border-gray-200 px-20 py-2 shadow-md">
  <div class="flex flex-wrap justify-between items-center">
    <div class="flex items-center">
      <a routerLink="/app/calendar">
        <img loading="lazy" class="w-20 mr-8" src="/images/logo/logo_mederi2.png" alt="logo" />
      </a>
      <div class="flex items-center">
        <ul class="flex items-center space-x-2 text-sm font-medium">
          @for (item of options; track $index) {
          <li>
            <a [routerLink]="item.route" routerLinkActive="bg-success-hover"
              class="flex space-x-2 text-left hover:bg-success-hover hover:cursor-pointer text-white px-4 py-2 rounded-lg">
              <span>{{item.name}}</span>
            </a>
          </li>
          }
        </ul>
      </div>
    </div>
    <div class="flex items-center">
      <div class="flex space-x-2">
        <button type="button" class="flex rounded-full" aria-expanded="false" type="button"
          (click)="isOpenOverlayAvatar = !isOpenOverlayAvatar" cdkOverlayOrigin #menuOverlay="cdkOverlayOrigin">
          <div class="flex items-center justify-center bg-white text-black w-8 h-8 rounded-full">
            <span class="font-medium">{{user?.name?.charAt(0)}}</span>
          </div>
        </button>
      </div>
    </div>
  </div>
</nav>

<ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="menuOverlay"
  [cdkConnectedOverlayOpen]="isOpenOverlayAvatar" (overlayOutsideClick)="isOpenOverlayAvatar = !isOpenOverlayAvatar">
  <div class="z-50 my-4 w-60 text-base list-none bg-white rounded divide-y divide-gray-100 shadow">
    <div class="py-2 px-4 text-center relative">
      <span class="block text-normal text-gray-900">Cuenta</span>
      <button (click)="isOpenOverlayAvatar = !isOpenOverlayAvatar"
        class="block text-sm text-gray-900 absolute right-3 top-3">
        <fa-icon [icon]="faClose"></fa-icon>
      </button>
    </div>
    <div class="py-3 px-4 flex items-center space-x-4">
      <div class="flex items-center justify-center bg-white text-black w-8 h-8 rounded-full">
        <span class="font-medium">{{user?.name?.charAt(0)}}</span>
      </div>
      <div class="space-y-1">
        <div>{{user?.name}}</div>
        <div class="text-sm text-gray-500">{{user?.email}}</div>
      </div>
    </div>
    <ul class="py-1">
      <li>
        <a routerLink="/app/profile"
          class="block py-2 px-4 text-sm text-gray-700 hover:bg-success-focus hover:text-white">Perfil</a>
      </li>
    </ul>
    <ul class="py-1">
      <li>
        <button (click)="logout()" class="block py-2 px-4 text-sm text-gray-700">Salir</button>
      </li>
    </ul>
  </div>
</ng-template>
